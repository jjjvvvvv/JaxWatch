commands:
  # Document Verification Commands
  - pattern: "(?i)verify|check|analyze\\s+documents?"
    cli_command: "python document_verifier/document_verifier.py document_verify"
    description: "Analyze all civic documents for verification and compliance"
    background: true

  - pattern: "(?i)verify\\s+project\\s+([A-Z0-9-]+)"
    cli_command: "python document_verifier/document_verifier.py document_verify --project {1}"
    description: "Verify specific project"
    background: true

  - pattern: "(?i)verify\\s+(\\d{4})\\s+projects?"
    cli_command: "python document_verifier/document_verifier.py document_verify --active-year {1}"
    description: "Verify projects from specific year"
    background: true

  # Reference Detection Commands
  - pattern: "(?i)scan|find\\s+references?"
    cli_command: "python reference_scanner/reference_scanner.py run --source dia_board"
    description: "Scan for document references"
    background: true

  - pattern: "(?i)scan\\s+([a-z_]+)\\s+(\\d{4})"
    cli_command: "python reference_scanner/reference_scanner.py run --source {1} --year {2}"
    description: "Scan specific source and year"
    background: true

  # Status Commands (lightweight aggregation)
  - pattern: "(?i)status|health"
    type: "status_check"
    description: "System health check"
    background: false

  # Dashboard Commands (direct response)
  - pattern: "(?i)dashboard|admin"
    response: "ðŸ“Š Dashboard available at http://localhost:5000"
    description: "Show dashboard URL"
    type: "direct_response"

  # Help Commands
  - pattern: "(?i)help|commands"
    response: "ðŸ¤– **What I can do:**\n\nðŸ“‹ **Analysis Commands:**\nâ€¢ `verify documents` - Check all civic documents for compliance\nâ€¢ `scan references` - Find cross-references between documents\nâ€¢ `verify 2026 projects` - Check only current year projects\n\nðŸ“Š **Info Commands:**\nâ€¢ `status` - System health check\nâ€¢ `dashboard` - Get dashboard link\n\nðŸ’¬ **Tips:**\nâ€¢ I can handle typos and suggest corrections\nâ€¢ I remember what you're working on\nâ€¢ Try `molty inspect` to see my current state"
    description: "Show detailed help and available commands"
    type: "direct_response"

  # Introspection Commands
  - pattern: "(?i)molty\\s+(explain|debug|state|inspect)"
    type: "introspection"
    description: "Show Molty's current state and memory"
    background: false

  # Conversational Follow-up Commands
  - pattern: "(?i)yes,?\\s*(scan|find)\\s*(references?|refs?)?"
    cli_command: "python reference_scanner/reference_scanner.py run --source dia_board"
    description: "Scan for document references"
    background: true

  - pattern: "(?i)yes,?\\s*(verify|check).*"
    cli_command: "python document_verifier/document_verifier.py document_verify"
    description: "Analyze all civic documents for verification and compliance"
    background: true